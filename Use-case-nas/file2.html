<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>NAS Question 2</title>
<script src="jquery-latest.js"></script>
<style>
  #outerWrapper {
    width: 800px;  
    margin: 1em auto;
  }
  canvas {
    border: 1px solid #000;  
  }
</style>
</head>

<body>
<h2>Q2. How do boys and girls perform across states?</h2>
<div id="outerWrapper">
  <canvas id="chart1" width="1000" height="300"></canvas>
</div>
<script>
$( document ).ready(function() {
  var theChart = document.getElementById('chart1');
  var chartHeight = 300;
  var theWidth = 50;
  var theSpace = 100;
  var theX = 0;
  var theY = 0;
  var theFills = ['orange','blue','red','green','orange','blue','red','green','orange','blue','red','green','orange','blue','red','green','orange','blue','red','green','orange','blue','red','green','orange','blue','red','green','orange','blue','red','green','orange','blue','red','green','orange','blue','red','green','orange','blue','red','green','orange','blue','red','green','orange','blue','red','green','orange','blue','red','green','orange','blue','red','green','orange','blue','red','green'];
  var i = 0;
  
  if (theChart.getContext){
    var theContext = theChart.getContext('2d');
    $.getJSON("data2.json", function(data) {
      $.each(data,function (k,v) {
        var theparam = k;
        var thedata = v;
        theY = chartHeight - thedata;
        theX = theX + theSpace;
        theContext.fillStyle = theFills[i];
        theContext.fillRect(theX,theY,theWidth,thedata);
        theContext.fillStyle = 'black';
        theContext.font = '9pt Arial';
        theContext.fillText(theparam,theX, theY-20);
        ++i;
      });
    });
  }
});
</script>
<p>Data was grouped by on two basis first states and then gender.</p>
</body>
</html>
